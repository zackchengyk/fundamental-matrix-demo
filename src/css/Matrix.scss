@use 'sass:color';
@use 'sass:math';
@import './common.scss';

.matrix-equation {
  background-color: $matrix-equation-color;
  padding: $gap;

  display: flex;
  flex-direction: row;
  align-items: center;

  gap: 1ch;
  overflow-x: scroll;

  font-size: $matrix-font-size;
  font-weight: $matrix-font-weight;
  color: $matrix-font-color;

  > * {
    flex-shrink: 0;
  }

  > span {
    position: relative;
    top: 1rem;
  }

  .big {
    font-size: $matrix-big-font-size;
    font-weight: $matrix-big-font-weight;
  }
}

.blue {
  &.all .limit-dp {
    color: $blue-light;
  }
  &.last .limit-dp:nth-of-type(n + 10) {
    color: $blue-light;
  }
  &:not(.last) .limit-dp:nth-of-type(1),
  &:not(.last) .limit-dp:nth-of-type(2) {
    color: $blue-light;
  }
}

.green {
  &.all .limit-dp {
    color: $green-light;
  }
  &.last .limit-dp:nth-of-type(n + 10) {
    color: $green-light;
  }
  &:not(.last) .limit-dp:nth-of-type(1),
  &:not(.last) .limit-dp:nth-of-type(2) {
    color: $green-light;
  }
}

.matrix {
  display: inline-grid;
  grid-template-areas: 'a a a' 'b c d';
  grid-template-columns: 1ch auto 1ch;
  gap: 2ch 0.25ch;

  &::before,
  &::after {
    content: '';
    font-size: 0.5rem;
    border: $matrix-line;
  }
  &::before {
    border-right: none;
  }
  &::after {
    border-left: none;
  }
}

.matrix-label {
  grid-area: a;

  font-size: $label-font-size;
  font-weight: $label-font-weight;
  color: $label-font-color;
}

.matrix-elements {
  padding: 0.75ch 0.5ch;

  display: grid;
  place-items: center;
  grid-auto-flow: column;
  gap: 0.5ch 0.75ch;
}

.limit-dp {
  min-width: 5ch;
}
