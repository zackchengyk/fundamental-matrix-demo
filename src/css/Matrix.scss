@use 'sass:color';
@use 'sass:math';
@import './common.scss';

$matrix-brace-border: 1px solid $line-color;

.matrix-equation {
  background-color: color.mix($dark, $dark-dark, 50%);
  padding: $gap;

  display: flex;
  flex-direction: row;
  align-items: center;

  gap: 1ch;
  overflow-x: scroll;

  > * {
    flex-shrink: 0;
  }

  > span {
    position: relative;
    top: 1.125rem;

    font-weight: $text-bold-font-weight;
    color: $text-bold-color;
  }
}

.blue {
  &.all .limit-dp,
  &.all .matrix-label {
    color: $blue-light;
  }
  .limit-dp:nth-of-type(1),
  .limit-dp:nth-of-type(2) {
    color: $blue-light;
  }
}

.green {
  &.all .limit-dp,
  &.all .matrix-label {
    color: $green-light;
  }
  .limit-dp:nth-of-type(1),
  .limit-dp:nth-of-type(2) {
    color: $green-light;
  }
}

.matrix {
  display: inline-grid;
  grid-template-areas: 'a a a' 'b c d';
  grid-template-columns: 1.25ch auto 1.25ch;
  gap: 2ch 0.75ch;

  &::before,
  &::after {
    content: '';
    font-size: 0.5rem;
    border: $matrix-brace-border;
  }
  &::before {
    border-right: none;
  }
  &::after {
    border-left: none;
  }
}

.matrix-label {
  grid-area: a;
  font-size: $label-font-size;
  font-weight: $label-font-weight;
}

.matrix-elements {
  padding: 0.75ch 0.5ch;

  display: grid;
  place-items: center;
  grid-auto-flow: column;
  gap: 1ch 1.25ch;

  font-size: $text-font-size;
}

.limit-dp {
  width: 7ch;
}
